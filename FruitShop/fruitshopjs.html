<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .main {
            display: flex;
            flex-direction: row;
            flex-wrap: wrap;
            margin: auto;
            width: 1000px;
            
            
        }
        div .container{
            padding: 10px;
            margin: 10px;
        
        }
        .heading{
            color: brown;
        }
    
        
    </style>
</head>



 <body style="background-color: aqua";>

   
    <img style="width: 50px; height: 50px;" src="cart.jfif" align="right" >


    <div class="heading"><h1 align="center"><b>Fruit Shop</b></h1></div>
    
    <h3 align="center" style="color:blue">Welcome to the healthy Habit</h3>
    <div id="products" class="main"></div>
        <div class="heading"><h2>My Cart</h2></div>
        <button>Add</button>
        <div id="my Cart"</div>
            <div id="order"></div>
            <div id="c2"></div>
            <script>
                let product = [
                   {
                    name :"Apple",
                    description : "for healthy",
                    price:20,
                    image:"fruits.jfif",
                   },
                   {
                    name :"pinApple",
                    description : "for healthy",
                    price:20,
                    image:"fruits.jfif",
                   },
                   {
                    name :"papaya",
                    description : "for healthy",
                    price:20,
                    image:"fruits.jfif",
                   },
                   {
                    name :"Greps",
                    description : "for healthy",
                    price:20,
                    image:"fruits.jfif",
                   },
                   {
                    name :"Mango",
                    description : "for healthy",
                    price:20,
                    image:"fruits.jfif",
                   },
                   {
                    name :"Cherry",
                    description : "for healthy",
                    price:20,
                    image:"fruits.jfif",
                   },

                ];
             let cart=[];

                let msg ="";
                product.forEach((value,order) => {
        msg = msg + `<div class='container'>
            <div><img src=${value.image}></div>
            <div>${value.name}</div>
           <div>${value.description}</div>
           <div>${value.price}</div>
           <div><button id="${order}" onclick="AddToCart(${order})">AddToCart</button></div>
            </div>`;
       });
       products.innerHTML = msg;

    //    let txt = "";
    //    cart.forEach((value) => {
    //     txt = txt +
    //    `<ul>
    //     <li>${value.name}-${value.price}-${value.qty}-${value.price * value.qty
    //     }</li>
    //     </ul>`  
    // });
    // mycart.innerHTML = txt;

    // let total = cart.reduce((sum, value) => {
    //     return sum + value.price * value.qty;
    // }, 0);
    // order.innerHTML = "Order Value: " + total;
    // {
    // }
    function AddToCart(order){
              if(cart[order] ==null){
                // cart[order]= product[order];
                cart[order] = JSON.parse(JSON.stringify(product[order]));
                cart[order].quantity = 1;
              }else{
                cart[order].quantity = cart[order].quantity + 1;
              }
              console.log(cart);
              reloadcart();

              }
            
function reloadcart() {
    c2.innerHTML = "";
    cart.forEach((value, order) => {
        if(value != null) {
            let newDiv = document.createElement("cart");
            newDiv.innerHTML = `
            <div><img src="${value.image}"></div>
            <div>${value.name}</div>
            <div>${value.price.toLocaleString()}</div>
            <div>
                <button onclick="changeQuantity(${order}, ${value.quantity - 1})">-</button>
                <div class="count">${value.quantity}</div>
                <button onclick="changeQuantity(${order}, ${value.quantity + 1})">+</button>
                </div>`;
                    c2.appendChild(newDiv);
        }
    });
}
function changeQuantity(order, quantity) {
    if(quantity == 0) {
        delete cart[order];
    } else{
        cart[order].quantity = quantity;
        cart[order].price = quantity * product[order].price;
    }
    reloadcart();
}
            </script>
</body>
</html>